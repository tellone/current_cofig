#!/bin/zsh
#Created: 2012-03-31
#Maintainer: Filip Pettersson
#Email: filip.diloom@gmail.com
#Filename: script_mode
#
#Purpose: In zsh give settings that are ideal for
#	for shell scripting. 
#

# if [[ "$0" != "/bin/zsh" ]]; then
#     print "this was only meant for zsh shells"
#     exit 2
# fi
source ~/.oh-my-zsh/oh-my-zsh.sh

local return_code="%(?..%{$fg[red]%}%? ↵%{$reset_color%})"

local user_host='%{$terminfo[bold]$fg[yellow]%}%n%{$fg[green]%}@%m%{$reset_color%}'
local current_dir='%{$terminfo[bold]$fg[blue]%} %~%{$reset_color%}'
local rvm_ruby=''
if which rvm-prompt &> /dev/null; then
  rvm_ruby='%{$fg[red]%}‹$(rvm-prompt i v g)›%{$reset_color%}'
else
  if which rbenv &> /dev/null; then
    rvm_ruby='%{$fg[red]%}‹$(rbenv version | sed -e "s/ (set.*$//")›%{$reset_color%}'
  fi
fi
local vcinfo='%{$fg_bold[black]%}$(vcprompt)%{$reset_color%}'

PROMPT="╭─${user_host} ${vcinfo} ${current_dir} ${rvm_ruby}
╰─%B$%b "
RPS1="${return_code}"
autoload -U promptinit && promptinit
